<!DOCTYPE html>
<html>
    <head>
      <title>Hello, WebVR! - A-Frame</title>
      <meta name="description" content="Hello, WebVR! - A-Frame">
      <script src="/js/aframe.min.js"></script>
      <script src="/js/aframe-environment-component.min.js"></script>
      <script src="/build.js"></script>
      
  
    </head>
    <body>
      <a-scene>
        <a-assets timeout="10000">
          <!-- all Earth textures from https://www.solarsystemscope.com/textures/ . slightly modified -->
          <img id="earth_map"      src="/assets/2k_earth_daymap.jpg" crossorigin="anonymous">
          <audio id="night_music" src="/assets/nightsound.mp3" preload="auto" crossorigin="anonymous"></audio>
          <!-- 3D models from Sketchfab.com, and converted from .gltf to .glb using https://glb-packer.glitch.me -->
          <!-- mars: https://sketchfab.com/3d-models/mars-2b46962637ee4311af8f0d1d0709fbb2 -->
          <a-asset-item id="cabana_model"     response-type="arraybuffer" src="/assets/cabana.glb"></a-asset-item>
          <a-asset-item id="bed_model"     response-type="arraybuffer" src="/assets/bed.glb"></a-asset-item>
          <a-asset-item id="bed2_model"     response-type="arraybuffer" src="/assets/bed2.glb"></a-asset-item>
          <a-asset-item id="shed_model"     response-type="arraybuffer" src="/assets/shed.glb"></a-asset-item>
          <a-asset-item id="girl_model"     response-type="arraybuffer" src="/assets/girl.glb"></a-asset-item>
          <a-asset-item id="fire_model"     response-type="arraybuffer" src="/assets/fire.glb"></a-asset-item>
          <a-asset-item id="pot_model"     response-type="arraybuffer" src="/assets/pot.glb"></a-asset-item>
          <a-asset-item id="table_model"     response-type="arraybuffer" src="/assets/table.glb"></a-asset-item>
          <a-asset-item id="coinL_model"     response-type="arraybuffer" src="/assets/coinL.glb"></a-asset-item>
          <a-asset-item id="axe_model"     response-type="arraybuffer" src="/assets/axe.glb"></a-asset-item>
          <a-asset-item id="paper_model"     response-type="arraybuffer" src="/assets/paper.glb"></a-asset-item>
          <a-asset-item id="bread_model"     response-type="arraybuffer" src="/assets/bread.glb"></a-asset-item>
       
          <a-mixin id="axe" 
                 hoverable grabbable stretchable draggable droppable
                 shadow
                 event-set__dragdrop="_event: drag-drop; geometry.primitive: sphere; geometry.radius: 0.25"
                 event-set__hoveron="_event: hover-start; material.opacity: 0.7; transparent: true"
                 event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false"
                 event-set__dragon="_event: dragover-start; material.wireframe: true"
                 event-set__dragoff="_event: dragover-end; material.wireframe: false">
        </a-mixin>

        </a-assets>

    
        <a-entity camera wasd-controls look-controls position="0 10 0" capture-mouse raycaster>
          <a-entity cursor="rayOrigin:mouse;" raycaster="far:50; interval:500; objects:.interactive"
          static-body="shape: sphere; sphereRadius: 0.001"
          super-hands="colliderEvent: raycaster-intersection;
                       colliderEventProperty: els;
                       colliderEndEvent:raycaster-intersection-cleared;
                       colliderEndEventProperty: clearedEls;"></a-entity>
        </a-entity>

        <a-entity light="type: ambient; intensity:1.4; castShadow:true; shadowBias:-0.0005; angle:40; penumbra:0.3;" position="0.5 -0.5 0" rotation="0 0 0"></a-entity>
     
        <a-entity sound="src:#night_music; autoplay:true;"></a-entity>

        <a-entity hand-controls="left"></a-entity>
        <a-entity hand-controls="right"></a-entity>

        <a-entity id="bed" position="05.712 0 -49.265" rotation="0 0 0" scale="0.2 0.2 0.2"
                gltf-model="#bed_model"></a-entity>

                <a-entity id="bed2" position="-11.458 11.307 -44.287" rotation="0 0 0" scale="0.01 0.01 0.01"
                gltf-model="#bed2_model"></a-entity>

        <a-entity id="shed" position="10.4 -2 -44" rotation="0 -102.44 0" scale="3 3 3"
                gltf-model="#shed_model"></a-entity>

       <a-entity id="girl" class="button interactive" position="14.321 12.193 -17" rotation="0 -16 0" scale="2.4 2.4 2.4"
                gltf-model="#girl_model"
                animation__click="property:position; from:14.321 13.193 -17; to:14.321 12.193 -17; startEvents:click; dur:300"
                create="duration:30000;">
              </a-entity>

              <a-entity id="fire" class="button interactive" position="-38 -0.496  -21.1546" rotation="0 0 0" scale="8.6 8.6 8.6" visible="true"
              animation__click="property:visible; from:false; to: true; startEvents:click"
              animation="property:scale; from:8.9 8.9 8.9; to:8.6 8.6 8.6; loop:true; dur:300"
              gltf-model="#fire_model">
            </a-entity>

            <a-entity id="pot" class="button interactive" position="-11.165 11.726  -12.796" rotation="0 0 0" scale="0.070 0.095 0.070" visible="true"
            animation__click="property:visible; from:false; to: true; startEvents:click; dur:300"
            gltf-model="#pot_model">
          </a-entity>
    

                <a-entity id="coinL" position="-18.049 11.587 -44.531" rotation="-1.7 80.99 0.2" scale="0.5 0.5 0.5"
                gltf-model="#coinL_model">
              </a-entity>

                <a-entity id="axe" mixin="cube" class="cube"  position="-19 7.151 -20.284" rotation="0 -44.240 0" scale="9.989 9.989 9.989"
                gltf-model="#axe_model" ></a-entity>

               

                <a-entity id="paper"  class="button interactive" position="19.976 8.627 -44.256" rotation="0 -44.240 0" scale="0.043 0.043 0.043"
                animation__click="property:position; from:19.976 9.0 -44.256; to:19.976 8.627 -44.256; startEvents:click; dur:500"
                gltf-model="#paper_model" ></a-entity>

                <a-entity id="bread" position="-15.420 7.602 -22.171" rotation="0 -10.188 0" scale="0.152 0.152 0.152"
                gltf-model="#bread_model" ></a-entity>

                <a-entity id="table" position="17.7 1 -43.2" rotation="0 169.16 0" scale="0.2 0.273 0.2"
                gltf-model="#table_model"></a-entity>

                <a-entity class="cube" mixin="cube"  geometry hoverable
                grabbable stretchable draggable droppable event-set__hoveron event-set__hoveroff velocity body transparent="false"></a-entity>
            
                <a-entity environment="preset:starry" touch-to-click-converter></a-entity>
      </a-scene>
    </body>
</html>